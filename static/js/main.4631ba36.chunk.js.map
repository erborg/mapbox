{"version":3,"sources":["index.js","useMapbox.js"],"names":["App","map","useRef","useState","currentShop","setCurrentShop","marker","setCurrentMarker","useEffect","container","zoom","mapboxgl","accessToken","current","Map","style","center","mrk","Marker","setLngLat","addTo","remove","useMapbox","className","onChange","e","target","value","id","render","document","querySelector"],"mappings":"0LAKA,SAASA,IACP,IAAMC,EAAMC,iBAAO,MACnB,EAAsCC,mBAAS,QAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAmCF,mBAAS,CAAC,UAAW,YAAxD,mBAAOG,EAAP,KAAeC,EAAf,KAeA,OAbAC,qBAAU,WACY,SAAhBJ,GACFG,EAAiB,CAAC,UAAW,YAEX,WAAhBH,GACFG,EAAiB,CAAC,UAAW,YAEX,cAAhBH,GACFG,EAAiB,CAAC,UAAW,cAE9B,CAACH,ICjBS,SAAmBH,EAAKQ,GAAmD,IAAxCH,EAAuC,uDAA9B,CAAC,UAAW,WAAYI,EAAM,uCACvFC,IAASC,YAAc,2FACvBJ,qBAAU,WACJP,EAAIY,UACRZ,EAAIY,QAAU,IAAIF,IAASG,IAAI,CAC7BL,UAAWA,EACXM,MAAO,kCACPC,OAAQV,EACRI,KAAMA,QAGVF,qBAAU,WACR,IAAMS,GAAM,IAAIN,IAASO,QAASC,UAAUb,GAAQc,MAAMnB,EAAIY,SAC9D,OAAO,kBAAMI,EAAII,aDMnBC,CAAUrB,EAAK,MAAOK,EAAQ,IAE5B,qCACE,sBAAKiB,UAAU,cAAf,UACE,+HACA,yBACEC,SAAU,SAACC,GACTpB,EAAeoB,EAAEC,OAAOC,QAF5B,UAKE,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,6BAGJ,qBAAKC,GAAG,WAKdC,iBAAO,cAAC7B,EAAD,IAAS8B,SAASC,cAAc,Y","file":"static/js/main.4631ba36.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\nimport './style.css';\nimport useMapbox from './useMapbox.js';\n\nfunction App() {\n  const map = useRef(null);\n  const [currentShop, setCurrentShop] = useState('km20');\n  const [marker, setCurrentMarker] = useState([37.610641, 55.761994]);\n\n  useEffect(() => {\n    if (currentShop === 'km20') {\n      setCurrentMarker([37.610641, 55.761994]);\n    }\n    if (currentShop === 'belief') {\n      setCurrentMarker([37.601152, 55.733396]);\n    }\n    if (currentShop === 'brandshop') {\n      setCurrentMarker([37.616812, 55.767839]);\n    }\n  }, [currentShop]);\n\n  useMapbox(map, 'map', marker, 12);\n  return (\n    <>\n      <div className=\"map-overlay\">\n        <h3>Выберите магазин: </h3>\n        <select\n          onChange={(e) => {\n            setCurrentShop(e.target.value);\n          }}\n        >\n          <option value=\"km20\">KM20</option>\n          <option value=\"belief\">BELIEF</option>\n          <option value=\"brandshop\">BRANDSHOP</option>\n        </select>\n      </div>\n      <div id=\"map\"></div>\n    </>\n  );\n}\n\nrender(<App />, document.querySelector('#root'));\n","import mapboxgl from 'mapbox-gl';\nimport { useEffect } from 'react';\n\nexport default function useMapbox(map, container, marker = [37.610641, 55.761994], zoom) {\n  mapboxgl.accessToken = 'pk.eyJ1IjoiZXJib3JnIiwiYSI6ImNrb2Q0b21nZDFob3oyb3FtdHNjNzgxbGUifQ.hEsH0NC3rOAEIXAtg14rwA';\n  useEffect(() => {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: container,\n      style: 'mapbox://styles/mapbox/dark-v10',\n      center: marker,\n      zoom: zoom,\n    });\n  });\n  useEffect(() => {\n    const mrk = new mapboxgl.Marker().setLngLat(marker).addTo(map.current);\n    return () => mrk.remove();\n  });\n}\n"],"sourceRoot":""}